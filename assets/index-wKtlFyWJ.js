var A=Object.defineProperty;var x=(d,e,t)=>e in d?A(d,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):d[e]=t;var k=(d,e,t)=>(x(d,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}})();class T{constructor(){k(this,"timeout",async e=>new Promise(t=>setTimeout(t,e)));this.modalObject=document.getElementById("modal"),this.overlay=document.getElementById("overlay"),this.modalTitle=document.getElementById("modal-title"),this.modalContent=document.getElementById("modal-content"),this.modalNumInput=document.getElementById("modal-num-input"),this.modalClose=document.getElementById("modal-close"),this.modalOK=document.getElementById("modal-ok"),this.receivedInput=void 0}hide(){this.modalObject.style.display="none",this.overlay.style.display="none"}async show(e,t,a){a===void 0&&(a=0),this.modalTitle.innerHTML=e,this.modalContent.innerHTML=t,this.modalObject.style.display="flex",this.overlay.style.display="block",a==0?this.modalNumInput.style.display="none":a==1&&(this.modalNumInput.style.display="block",this.modalNumInput.value=1),this.modalOK.focus();let n=await this.waitForUserSelection();return n&&a==1&&(n=this.modalNumInput.value),n}async waitForUserSelection(){for(;this.receivedInput===void 0;)await this.timeout(50);let e=this.receivedInput;return this.receivedInput=void 0,e}}class C{constructor(e){k(this,"delay",e=>new Promise(t=>setTimeout(t,e)));this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.consoleDiv=document.getElementById("console"),this.port,this.modal=e,this.receiveBuffer=[],this.sentCommandBuffer=[""],this.sentCommandBufferIndex=0}appendToConsole(e,t){let a=document.createElement("p"),n=new Date().toISOString(),s="";t?s="[SEND]":s="[RECE]",a.innerHTML=s+" - "+n+" - "+e+`
`,this.consoleDiv.appendChild(a),this.consoleDiv.scrollTop=this.consoleDiv.scrollHeight}getNextBufferLine(){return this.receiveBuffer.shift()}clearBuffer(){for(;this.receiveBuffer.length>0;)this.receiveBuffer.shift()}async connect(){if(!navigator.serial)return this.modal.show("Browser Support","Please use a browser that supports WebSerial, like Chrome, Opera, or Edge. <a href='https://developer.mozilla.org/en-US/docs/Web/API/Web_Serial_API#browser_compatibility'>Supported Browsers."),!1;const e=1155;return this.port=await navigator.serial.requestPort({filters:[{usbVendorId:e}]}),console.log("Port Selected."),await this.port.open({baudRate:115200,bufferSize:255,dataBits:8,flowControl:"none",parity:"none",stopBits:1}),console.log("Port Opened."),this.listen(),document.querySelector("#connect").style.background="green",document.querySelector("#connect").style.color="white",document.querySelector("#connect").innerHTML="Connected",!0}async listen(){var e;for(;(e=this.port)!=null&&e.readable;){console.log("Port is readable: Starting to listen.");let t="";document.getElementById("console");const a=this.port.readable.getReader();try{for(;;){const{value:n,done:s}=await a.read();if(s){console.log("Closing reader.");break}const o=this.decoder.decode(n);for(t=t.concat(o);t.indexOf(`
`)!=-1;){let r=t.split(`
`);this.receiveBuffer.push(r[0]),this.appendToConsole(r[0],!1),t=t.split(`
`).slice(1).join(`
`)}}}catch(n){console.error("Reading error.",n)}finally{a.releaseLock()}}}async send(e){var t;if(console.log("sending: ",e),(t=this.port)!=null&&t.writable){const a=await this.port.writable.getWriter();for(const n of e)await a.write(this.encoder.encode(n+`
`)),this.appendToConsole(n,!0);a.releaseLock()}else this.modal.show("Cannot Write","Cannot write to port. Have you connected?")}async sendRepl(){let e=[document.querySelector("#repl-input").value];this.sentCommandBuffer.splice(1,0,e[0]),this.sentCommandBufferIndex=0,this.send(e)}async leftAirOn(){const e=["M106","M106 P1 S255"];await this.send(e)}async leftAirOff(){const e=["M107","M107 P1"];await this.send(e)}async rightAirOn(){const e=["M106 P2 S255","M106 P3 S255"];await this.send(e)}async rightAirOff(){const e=["M107 P2","M107 P3"];await this.send(e)}async ledOn(){const e=["M150 P255 R255 U255 B255"];await this.send(e)}async ledOff(){const e=["M150 P0"];await this.send(e)}async readLeftVac(){var f;if(!((f=this.port)!=null&&f.writable))return this.modal.show("Cannot Write","Cannot write to port. Have you connected?"),!1;const e=["M260 A112 B1 S1","M260 A109","M260 B48","M260 B10","M260 S1"],t=40;this.clearBuffer();let a,n,s;const o=new RegExp("data:(..)");await this.send(e),await this.send(["M260 A109 B6 S1"]),await this.send(["M261 A109 B1 S1"]),await this.delay(t);for(var r=0,c=this.receiveBuffer.length;r<c;r++){let p=this.receiveBuffer[r];if(o.test(p)){a=p.match("data:(..)")[1];break}}this.clearBuffer(),await this.send(["M260 A109 B7 S1"]),await this.send(["M261 A109 B1 S1"]),await this.delay(t);for(var r=0,c=this.receiveBuffer.length;r<c;r++){let h=this.receiveBuffer[r];if(o.test(h)){n=h.match("data:(..)")[1];break}}await this.send(["M260 A109 B8 S1"]),await this.send(["M261 A109 B1 S1"]),await this.delay(t);for(var r=0,c=this.receiveBuffer.length;r<c;r++){let h=this.receiveBuffer[r];if(o.test(h)){s=h.match("data:(..)")[1];break}}let l=parseInt(a+n+s,16);await this.modal.show("Left Vacuum Sensor Value",l)}async readRightVac(){var f;if(!((f=this.port)!=null&&f.writable))return this.modal.show("Cannot Write","Cannot write to port. Have you connected?"),!1;const e=["M260 A112 B2 S1","M260 A109","M260 B48","M260 B10","M260 S1"],t=40;let a,n,s;const o=new RegExp("data:(..)");this.clearBuffer(),await this.send(e),await this.send(["M260 A109 B6 S1"]),await this.send(["M261 A109 B1 S1"]),await this.delay(t);for(var r=0,c=this.receiveBuffer.length;r<c;r++){let p=this.receiveBuffer[r];if(o.test(p)){a=p.match("data:(..)")[1];break}}this.clearBuffer(),await this.send(["M260 A109 B7 S1"]),await this.send(["M261 A109 B1 S1"]),await this.delay(t);for(var r=0,c=this.receiveBuffer.length;r<c;r++){let h=this.receiveBuffer[r];if(o.test(h)){n=h.match("data:(..)")[1];break}}this.clearBuffer(),await this.send(["M260 A109 B8 S1"]),await this.send(["M261 A109 B1 S1"]),await this.delay(t);for(var r=0,c=this.receiveBuffer.length;r<c;r++){let h=this.receiveBuffer[r];if(o.test(h)){s=h.match("data:(..)")[1];break}}let l=parseInt(a+n+s,16);await this.modal.show("Right Vacuum Sensor Value",l)}async testTMC(){var n;if(!((n=this.port)!=null&&n.writable))return this.modal.show("Cannot Write","Cannot write to port. Have you connected?"),!1;let e="";const t=["M122"];await this.clearBuffer(),await this.send(t),await this.delay(5e3),console.log(this.receiveBuffer);for(let s=0;s<this.receiveBuffer.length;s++)e=e.concat(this.receiveBuffer[s]+`
`);if(await this.modal.show("Stepper Driver Test Complete","Test is complete. Click OK to download test report.")==!0){let s=new Date().toISOString();s=s+"-tmctest.txt",this.download(s,e)}}async testVac(){var g;if(!((g=this.port)!=null&&g.writable))return this.modal.show("Cannot Write","Cannot write to port. Have you connected?"),!1;let e="";const t=["M260 A112 B1 S1","M260 A109","M260 B48","M260 B10","M260 S1"],a=["M260 A112 B2 S1","M260 A109","M260 B48","M260 B10","M260 S1"],n=100;this.clearBuffer();let s,o,r;const c=new RegExp("data:(..)");await this.send(t),await this.send(["M260 A109 B6 S1"]),await this.send(["M261 A109 B1 S1"]),await this.delay(n);for(var l=0,f=this.receiveBuffer.length;l<f;l++){let B=this.receiveBuffer[l];if(c.test(B)){s=B.match("data:(..)")[1],e=e.concat("Left MSB - "+s+`
`);break}}this.clearBuffer(),await this.send(["M260 A109 B7 S1"]),await this.send(["M261 A109 B1 S1"]),await this.delay(n);for(var l=0,f=this.receiveBuffer.length;l<f;l++){let y=this.receiveBuffer[l];if(c.test(y)){o=y.match("data:(..)")[1],e=e.concat("Left CSB - "+o+`
`);break}}this.clearBuffer(),await this.send(["M260 A109 B8 S1"]),await this.send(["M261 A109 B1 S1"]),await this.delay(n);for(var l=0,f=this.receiveBuffer.length;l<f;l++){let y=this.receiveBuffer[l];if(c.test(y)){r=y.match("data:(..)")[1],e=e.concat("Left LSB - "+r+`
`);break}}let p=parseInt(s+o+r,16);e=e.concat("Left Val - "+p+`
`),this.clearBuffer(),await this.send(a),await this.send(["M260 A109 B6 S1"]),await this.send(["M261 A109 B1 S1"]),await this.delay(n);for(var l=0,f=this.receiveBuffer.length;l<f;l++){let y=this.receiveBuffer[l];if(c.test(y)){s=y.match("data:(..)")[1],e=e.concat("Right MSB - "+s+`
`);break}}this.clearBuffer(),await this.send(["M260 A109 B7 S1"]),await this.send(["M261 A109 B1 S1"]),await this.delay(n);for(var l=0,f=this.receiveBuffer.length;l<f;l++){let y=this.receiveBuffer[l];if(c.test(y)){o=y.match("data:(..)")[1],e=e.concat("Right CSB - "+o+`
`);break}}this.clearBuffer(),await this.send(["M260 A109 B8 S1"]),await this.send(["M261 A109 B1 S1"]),await this.delay(n),console.log("current buffer length: ",this.receiveBuffer.length);for(var l=0,f=this.receiveBuffer.length;l<f;l++){let y=this.receiveBuffer[l];if(c.test(y)){r=y.match("data:(..)")[1],e=e.concat("Right LSB - "+r+`
`);break}}let E=parseInt(s+o+r,16);if(e=e.concat("Right Val - "+E+`
`),console.log(p,E),await this.modal.show("Vacuum Sensor Test Complete","Test is complete. Click OK to download test report.")==!0){let B=new Date().toISOString();B=B+"-vactest.txt",this.download(B,e)}}download(e,t){var a=document.createElement("a");a.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),a.setAttribute("download",e),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}}let m={GET_ID:[1,"UNICAST",1],INITIALIZE:[2,"UNICAST",13],GET_VERSION:[3,"UNICAST",1],MOVE_FEED_FORWARD:[4,"UNICAST",2],MOVE_FEED_BACKWARD:[5,"UNICAST",2],MOVE_FEED_STATUS:[6,"UNICAST",1],VENDOR_OPTIONS:[191,"UNICAST",0],GET_FEEDER_ADDRESS:[192,"BROADCAST",13],IDENTIFY_FEEDER:[193,"BROADCAST",13],PROGRAM_FEEDER_FLOOR:[194,"BROADCAST",14],UNINITIALIZED_FEEDERS_RESPOND:[195,"BROADCAST",1]};const M="/assets/feeder-icon-oeVaefd-.png";class R{constructor(e,t){this.serial=e,this.packetID=0,this.feeders=[],this.modal=t}beautifyResponse(e){let t="",a=e.slice(6);for(let n=0;n<a.length;n++)t=t+this.intToHexString(a[n])+" ";alert("From: "+this.intToHexString(e[1])+`
PacketID: `+this.intToHexString(e[2])+`
Payload Length: `+this.intToHexString(e[3])+`
Checksum: `+this.intToHexString(e[4])+`
Status: `+this.intToHexString(e[5])+`
Payload: `+t)}intToHexString(e){let t=e.toString(16).toUpperCase();return t.length==1&&(t="0".concat(t)),"0x".concat(t)}calcCRC(e){let t=0;for(var a=0;a<e.length;a++){t=t^e[a]<<8;for(let n=0;n<8;n++)t&32768&&(t=t^33664),t<<=1}return t>>8&255}hexStringToIntArray(e){let t=[];console.log("string: ",e);for(let a=0;a<e.length/2;a++){let n=a*2,s=e.slice(n,n+2),o=parseInt(s,16);t[a]=o}return t}validatePacketCrc(e){let t=e[4],a=e.slice(0,4).concat(e.slice(5)),n=this.calcCRC(a);return t!=n?(console.log("Received packet had CRC mismatch."),!1):!0}intArrayToHexString(e){let t="";for(let a=0;a<e.length;a++){let n=e[a].toString(16).toUpperCase();n.length==1&&(n="0".concat(n)),t=t.concat(n)}return t}getGcodeFromPacketAndPayloadArray(e){let t=e,a=this.calcCRC(e);t.splice(4,0,a),console.log("finalArray: ",t);let n=this.intArrayToHexString(t);return"M485 ".concat(n)}async sendPacket(e,t,a){if(e[1]=="UNICAST"&&t=="")return console.log("Error: Selected command requires address."),!1;if(e[2]>1&&a===void 0)return console.log("Error: Selected command requires payload."),!1;let n;e[2]==0?(console.log("first one"),console.log(a.length),n=[t,0,this.packetID,a.length+1]):n=[t,0,this.packetID,e[2]],console.log(n," header");let s=n.concat([e[0]]);(e[2]>1||e[2]==0)&&(s=s.concat(a));let o=this.getGcodeFromPacketAndPayloadArray(s);this.serial.clearBuffer(),await this.serial.send([o]);let r=Date.now();for(;;){if(await this.serial.delay(10),Date.now()-r>400)return console.log("Timeout: didn't get serial response."),!1;let E=!1;console.log(this.serial.receiveBuffer);const h=new RegExp("ok");for(let g=0,B=this.serial.receiveBuffer.length;g<B;g++){let v=this.serial.receiveBuffer[g];if(E=h.test(v),E)break}if(E)break}let c=this.packetID;this.packetID<255?this.packetID++:this.packetID=0;let l="";const f=new RegExp("rs485-reply:");for(let E=0,h=this.serial.receiveBuffer.length;E<h;E++){let g=this.serial.receiveBuffer[E];if(f.test(g)){l=g.match("rs485-reply: (.*)")[1];break}}if(l=="TIMEOUT")return console.log("Received TIMEOUT."),!1;if(l=="")return this.modal.show("Photon Support","Your version of Marlin does not support Photon. Please update Marlin to the version in the <a href='https://github.com/opulo-inc/lumenpnp/releases'>latest LumenPnP release</a> using the instructions <a href='https://docs.opulo.io/byop/motherboard/update-firmware/'>here</a>."),!1;let p=this.hexStringToIntArray(l);return this.validatePacketCrc(p)?p[2]!=c?(console.log("Returning packet ID mismatched sent packet ID."),!1):p:!1}async sendUnicast(){let e=document.getElementById("uni-to").value,t=document.getElementById("uni-command").value,a=document.getElementById("uni-payload").value;e=parseInt(e),a=this.hexStringToIntArray(a);let n;t==1?n=await this.sendPacket(m.GET_ID,e):t==2?n=await this.sendPacket(m.INITIALIZE,e,a):t==3?n=await this.sendPacket(m.GET_VERSION,e):t==4?n=await this.sendPacket(m.MOVE_FEED_FORWARD,e,a):t==5?n=await this.sendPacket(m.MOVE_FEED_BACKWARD,e,a):t==6?n=await this.sendPacket(m.MOVE_FEED_STATUS,e):t==191&&(console.log(a),n=await this.sendPacket(m.VENDOR_OPTIONS,e,a)),n!=!1?this.beautifyResponse(n):this.modal.show("Invalid Packet","We did not receive a valid packet.")}async sendBroadcast(){let e=document.getElementById("broad-program-address").value,t=document.getElementById("broad-command").value,a=document.getElementById("broad-uuid").value;e=parseInt(e),a=this.hexStringToIntArray(a);let n;t==192?n=await this.sendPacket(m.GET_FEEDER_ADDRESS,255,a):t==193?n=await this.sendPacket(m.IDENTIFY_FEEDER,255,a):t==194?(a.push(e),n=await this.sendPacket(m.PROGRAM_FEEDER_FLOOR,255,a)):t==195&&(n=await this.sendPacket(m.UNINITIALIZED_FEEDERS_RESPOND,255)),n!=!1?this.beautifyResponse(n):this.modal.show("Invalid Packet","We did not receive a valid packet.")}async customPacket(){let e=parseInt(document.getElementById("custom-to").value),t=parseInt(document.getElementById("calc-command").value),a=parseInt(document.getElementById("calc-payload").value);if(e===NaN||t===NaN)return this.modal.show("Invalid Command","Please make sure you've entered at least a To Address and a Command."),!1;let n;a==""?n=await this.sendPacket(t,e):n=await this.sendPacket(t,e,a),n!=!1?this.beautifyResponse(n):this.modal.show("Invalid Packet","We did not receive a valid packet.")}async calculateUserCRC(){let e=parseInt(document.getElementById("calc-to").value),t=parseInt(document.getElementById("calc-from").value),a=parseInt(document.getElementById("calc-packetid").value),n=parseInt(document.getElementById("calc-payload-length").value),s=parseInt(document.getElementById("calc-command").value),o=this.hexStringToIntArray(document.getElementById("calc-payload").value),r=[e,t,a,n,s];r=r.concat(o);let c=this.calcCRC(r);this.modal.show("CRC Result",c)}async scan(){let e=50;for(let t=1;t<e+1;t++){let a=await this.sendPacket(m.GET_ID,t);if(a!=!1&&a[5]==0){let n=a.slice(6);if((await this.sendPacket(m.INITIALIZE,t,n))[5]==0){console.log("found one at ",t),n=this.intArrayToHexString(n);let o=t.toString(),r=document.createElement("div"),c=document.createElement("img");c.src=M;let l=document.createElement("H3"),f=document.createTextNode(o);l.appendChild(f);let p=document.createElement("H4"),E=document.createTextNode(n);p.appendChild(E);let h=document.createElement("button"),g=document.createTextNode("Identify");h.appendChild(g),h.classList.add("identify");let B=document.createElement("button"),v=document.createTextNode("Feed");B.appendChild(v),B.classList.add("feed"),r.appendChild(c),r.appendChild(l),r.appendChild(p),r.appendChild(h),r.appendChild(B),r.classList.add("found-feeder"),document.getElementById("found-feeders").appendChild(r)}}}document.getElementById("feeder-scan").innerHTML="Scan"}async programSlotsUtility(){let e=await this.modal.show("Before Beginning",`To program your slots, first remove all Photon feeders from your machine. Once you've done this, click ok.

If at any point you'd like to exit this utility, click cancel.`);if(console.log(e),!e)return!1;for(;;){let t=await this.modal.show("Insert a Feeder","Insert a feeder into the slot you'd like to program. Enter the address you'd like to program in the field below. Once you've done this, click ok.",1);if(!t)return!1;let a=await this.sendPacket(m.UNINITIALIZED_FEEDERS_RESPOND,255);if(a==!1)return e=await this.modal.show("Programming Feeder Not Found","The feeder you inserted was not detected. Exiting."),!1;{await this.sendPacket(m.PROGRAM_FEEDER_FLOOR,255,a.slice(6).concat(t));let n=await this.sendPacket(m.GET_FEEDER_ADDRESS,255,a.slice(6));if(n!=!1&&n[1]==i){if(e=await this.modal.show("Success","Slot has been programmed with address "+t+"! Remove the feeder from the slot, then click OK to program another."),!e)return!1}else if(e=await this.modal.show("Failure","Programming Failed for slot "+i+". Click OK to retry."),!e)return!1}}}}let I=new T,u=new C(I),w=new R(u,I);document.getElementById("modal-close").addEventListener("click",()=>{I.receivedInput=!1,I.hide()});document.getElementById("modal-ok").addEventListener("keyup",function(d){d.code==="Enter"&&(d.preventDefault(),I.receivedInput=!0,I.hide())});document.getElementById("modal-ok").addEventListener("click",()=>{I.receivedInput=!0,I.hide()});document.getElementById("modal-ng").addEventListener("click",()=>{I.receivedInput=!1,I.hide()});function b(){document.getElementById("repl-input").value=""}document.getElementById("repl-input").addEventListener("keyup",function(d){if(d.code==="Enter")d.preventDefault(),document.getElementById("send").click();else if(d.code==="ArrowUp"){if(d.preventDefault(),u.sentCommandBufferIndex==u.sentCommandBuffer.length-1)return!1;u.sentCommandBufferIndex++,document.getElementById("repl-input").value=u.sentCommandBuffer[u.sentCommandBufferIndex]}else if(d.code==="ArrowDown"){if(d.preventDefault(),u.sentCommandBufferIndex==0)return!1;u.sentCommandBufferIndex--,document.getElementById("repl-input").value=u.sentCommandBuffer[u.sentCommandBufferIndex]}});document.getElementById("uni-command").addEventListener("change",()=>{let d=document.getElementById("uni-command").value;["0x01","0x03","0x06"].includes(d)?(document.getElementById("uni-payload").style.display="none",document.getElementById("uni-payload-label").style.display="none"):(document.getElementById("uni-payload").style.display="inline",document.getElementById("uni-payload-label").style.display="inline")});document.getElementById("connect").addEventListener("click",()=>{u.connect()});document.getElementById("send").addEventListener("click",()=>{u.sendRepl(),b()});document.getElementById("tmc").addEventListener("click",()=>{u.testTMC()});document.getElementById("vac").addEventListener("click",()=>{u.testVac()});document.getElementById("left-air-on").addEventListener("click",()=>{u.leftAirOn()});document.getElementById("left-air-off").addEventListener("click",()=>{u.leftAirOff()});document.getElementById("right-air-on").addEventListener("click",()=>{u.rightAirOn()});document.getElementById("right-air-off").addEventListener("click",()=>{u.rightAirOff()});document.getElementById("ring-lights-on").addEventListener("click",()=>{u.ledOn()});document.getElementById("ring-lights-off").addEventListener("click",()=>{u.ledOff()});document.getElementById("left-vac").addEventListener("click",()=>{u.readLeftVac()});document.getElementById("right-vac").addEventListener("click",()=>{u.readRightVac()});document.getElementById("feeder-scan").addEventListener("click",()=>{var d;if(!((d=u.port)!=null&&d.writable))return alert("Cannot write to port. Have you connected?"),!1;document.getElementById("found-feeders").style.display="flex",document.getElementById("found-feeders").innerHTML="",document.getElementById("feeder-scan").innerHTML="Scanning...",w.scan()});document.getElementById("uni-send").addEventListener("click",()=>{w.sendUnicast()});document.getElementById("broad-send").addEventListener("click",()=>{w.sendBroadcast()});document.getElementById("calc-calculate").addEventListener("click",()=>{w.calculateUserCRC()});document.getElementById("program-slots").addEventListener("click",()=>{w.programSlotsUtility()});document.getElementById("more-controls").addEventListener("click",()=>{document.getElementById("unicast").style.display="block",document.getElementById("broadcast").style.display="block",document.getElementById("custom-packet").style.display="block",document.getElementById("crc-tool").style.display="block"});document.getElementById("found-feeders").addEventListener("click",function(d){let e=d.target;if(e.className.split(" ").includes("identify")&&e.nodeName=="BUTTON"){let a=e.parentElement.getElementsByTagName("H4")[0].innerHTML;a=w.hexStringToIntArray(a),w.sendPacket(m.IDENTIFY_FEEDER,255,a)}else if(e.className.split(" ").includes("feed")&&e.nodeName=="BUTTON"){let a=e.parentElement.getElementsByTagName("H3")[0].innerHTML;a=parseInt(a),w.sendPacket(m.MOVE_FEED_FORWARD,a,40)}});
